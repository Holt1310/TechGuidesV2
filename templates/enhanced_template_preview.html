{% extends "layout.html" %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="bi bi-eye"></i> {{ template.template.name }} Preview</h2>
        <a href="/enhanced/templates" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Back
        </a>
    </div>
    <form>
    {% for field in template.fields %}
        {% set config = field.field_config|from_json if field.field_config else {} %}
        <div class="mb-3">
            <label class="form-label">{{ field.field_name }}</label>
            {% if field.field_type == 'text' %}
                <input type="text" class="form-control" placeholder="{{ config.placeholder or '' }}" disabled>
            {% elif field.field_type == 'textarea' %}
                <textarea class="form-control" rows="{{ config.rows or 3 }}" placeholder="{{ config.placeholder or '' }}" disabled></textarea>
            {% elif field.field_type == 'select' %}
                <select class="form-select" disabled>
                    <option>Select...</option>
                    {% for option in config.options or [] %}
                        <option>{{ option.label }}</option>
                    {% endfor %}
                </select>
            {% elif field.field_type == 'radio' %}
                {% for option in config.options or [] %}
                <div class="form-check">
                    <input class="form-check-input" type="radio" disabled>
                    <label class="form-check-label">{{ option.label }}</label>
                </div>
                {% endfor %}
            {% elif field.field_type == 'checkbox' %}
                {% for option in config.options or [] %}
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" disabled>
                    <label class="form-check-label">{{ option.label }}</label>
                </div>
                {% endfor %}
            {% elif field.field_type == 'date' %}
                <input type="date" class="form-control" disabled>
            {% elif field.field_type == 'data_table_lookup' %}
                <select class="form-select" disabled>
                    <option>Select...</option>
                </select>
            {% else %}
                <input type="text" class="form-control" disabled>
            {% endif %}
        </div>
    {% endfor %}
    </form>
</div>
{% endblock %}
